<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Initiation au Cr√©ole Antillais - Par Ti Racoon</title>
    <meta name="description" content="Apprendre le cr√©ole antillais : traducteur IA, cours, quiz, devinettes, exercices. Par Ti Racoon.">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://alixb-accessible.github.io/faites-mieux-toolbar/faites-mieux.css">
    <script src="https://alixb-accessible.github.io/faites-mieux-toolbar/faites-mieux.js" defer></script>
    
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: "Lexend", sans-serif !important;
        }

        body {
            background: linear-gradient(135deg,
                #4a4a4a 0%, #4a4a4a 14.28%,
                #22c55e 14.28%, #22c55e 28.56%,
                #3b82f6 28.56%, #3b82f6 42.84%,
                #ffffff 42.84%, #ffffff 57.12%,
                #fbbf24 57.12%, #fbbf24 71.4%,
                #dc2626 71.4%, #dc2626 85.68%,
                #4a4a4a 85.68%, #4a4a4a 100%
            );
            min-height: 100vh;
            padding: 1rem;
        }

        *:focus-visible {
            outline: 3px solid #ff9800 !important;
            outline-offset: 4px !important;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            background: white;
            border-radius: 1rem;
            padding: 2rem;
            margin-bottom: 1.5rem;
            text-align: center;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            font-size: 2rem;
            color: #2563eb;
            margin-bottom: 0.5rem;
        }

        .tabs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            background: white;
            padding: 1rem;
            border-radius: 1rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        .tab-btn {
            padding: 0.75rem 1rem;
            border: none;
            background: #e5e7eb;
            color: #374151;
            border-radius: 0.5rem;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s;
            font-size: 0.9rem;
        }

        .tab-btn:hover {
            background: #d1d5db;
        }

        .tab-btn.active {
            background: #3b82f6;
            color: white;
        }

        .content {
            background: white;
            border-radius: 1rem;
            padding: 2rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            min-height: 400px;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .translation-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        @media (min-width: 768px) {
            .translation-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        label {
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #374151;
            display: block;
        }

        textarea {
            width: 100%;
            height: 8rem;
            padding: 0.75rem;
            border: 2px solid #bfdbfe;
            border-radius: 0.5rem;
            resize: none;
            font-size: 1rem;
        }

        textarea:focus {
            outline: none;
            border-color: #3b82f6;
        }

        input[type="text"] {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #bfdbfe;
            border-radius: 0.5rem;
            font-size: 1rem;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: #3b82f6;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 0.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-primary {
            background: #3b82f6;
            color: white;
        }

        .btn-primary:hover:not(:disabled) {
            background: #2563eb;
        }

        .btn-primary:disabled {
            background: #d1d5db;
            cursor: not-allowed;
        }

        .btn-secondary {
            background: #e5e7eb;
            color: #374151;
        }

        .btn-success {
            background: #22c55e;
            color: white;
        }

        .btn-warning {
            background: #f59e0b;
            color: white;
        }

        .btn-group {
            display: flex;
            gap: 0.75rem;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 1rem;
        }

        .expressions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 0.75rem;
            margin-top: 2rem;
        }

        .expression-card, .riddle-card {
            padding: 0.75rem;
            background: linear-gradient(to right, #eff6ff, #ecfdf5);
            border: 1px solid #bfdbfe;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .expression-card:hover, .riddle-card:hover {
            background: linear-gradient(to right, #dbeafe, #d1fae5);
            transform: translateY(-2px);
        }

        .expression-fr {
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 0.25rem;
        }

        .expression-cr {
            color: #2563eb;
            font-size: 0.875rem;
        }

        .quiz-question, .exercise-box {
            background: #f3f4f6;
            padding: 1.5rem;
            border-radius: 0.75rem;
            margin-bottom: 1.5rem;
        }

        .quiz-options {
            display: grid;
            gap: 0.75rem;
            margin-top: 1rem;
        }

        .quiz-option, .word-button {
            padding: 1rem;
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.2s;
            text-align: left;
        }

        .quiz-option:hover:not(.answered), .word-button:hover:not(.used) {
            border-color: #3b82f6;
            background: #eff6ff;
        }

        .quiz-option.correct {
            border-color: #22c55e;
            background: #f0fdf4;
        }

        .quiz-option.incorrect {
            border-color: #ef4444;
            background: #fef2f2;
        }

        .word-button.used {
            opacity: 0.3;
            cursor: default;
        }

        .score-display {
            text-align: center;
            font-size: 1.5rem;
            font-weight: bold;
            color: #2563eb;
            margin: 2rem 0;
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 1.5rem;
            color: #2563eb;
        }

        .lesson-section {
            margin-bottom: 2rem;
        }

        .lesson-section h3 {
            color: #2563eb;
            margin-bottom: 0.75rem;
            font-size: 1.25rem;
        }

        .example-box {
            background: #eff6ff;
            padding: 1rem;
            border-left: 4px solid #3b82f6;
            border-radius: 0.5rem;
            margin: 1rem 0;
            line-height: 1.8;
        }

        .reference-card {
            background: #f9fafb;
            padding: 1.5rem;
            border-radius: 0.75rem;
            margin-bottom: 1rem;
        }

        .reference-card a {
            color: #3b82f6;
            text-decoration: none;
            font-weight: 600;
        }

        .footer {
            text-align: center;
            padding: 2rem;
            color: #6b7280;
            font-style: italic;
            background: white;
            border-radius: 1rem;
            margin-top: 1.5rem;
        }

        .sentence-builder {
            min-height: 60px;
            border: 2px dashed #bfdbfe;
            border-radius: 0.5rem;
            padding: 1rem;
            margin: 1rem 0;
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            align-items: center;
        }

        .sentence-word {
            padding: 0.5rem 1rem;
            background: #3b82f6;
            color: white;
            border-radius: 0.5rem;
            cursor: pointer;
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Initiation au Cr√©ole Antillais</h1>
            <p>Guadeloupe & Martinique - Apprendre en s'amusant</p>
        </div>

        <div class="tabs">
            <button class="tab-btn active" data-tab="translator">Traducteur</button>
            <button class="tab-btn" data-tab="lessons">Cours</button>
            <button class="tab-btn" data-tab="quiz">Quiz</button>
            <button class="tab-btn" data-tab="riddles">Devinettes</button>
            <button class="tab-btn" data-tab="exercises">Exercices</button>
            <button class="tab-btn" data-tab="references">Ressources</button>
        </div>

        <div class="content">
            <!-- TRADUCTEUR -->
            <div id="translator" class="tab-content active">
                <h2 class="section-title">Traducteur Intelligent</h2>
                <div class="translation-grid">
                    <div>
                        <label for="input-text" id="input-label">Fran√ßais</label>
                        <textarea id="input-text" placeholder="Entrez votre texte..."></textarea>
                    </div>
                    <div>
                        <label for="output-text" id="output-label">Cr√©ole Antillais</label>
                        <textarea id="output-text" placeholder="La traduction appara√Ætra ici..." readonly></textarea>
                    </div>
                </div>
                <div class="btn-group">
                    <button class="btn btn-primary" id="translate-btn">Traduire</button>
                    <button class="btn btn-secondary" id="switch-btn">Inverser</button>
                </div>
                <h3 style="font-size: 1.25rem; font-weight: bold; margin-top: 2rem; margin-bottom: 1rem;">Expressions courantes</h3>
                <div class="expressions-grid" id="expressions-grid"></div>
            </div>
            <!-- COURS -->
            <div id="lessons" class="tab-content">
                <h2 class="section-title">Cours rapide</h2>
                <div class="lesson-section">
                    <h3>Les particules temporelles</h3>
                    <p>Le cr√©ole utilise des particules avant le verbe pour indiquer le temps :</p>
                    <div class="example-box">
                        <strong>ka</strong> = pr√©sent habituel/progressif<br>
                        Ex: "Man ka ch√®ch√©" = Je cherche<br><br>
                        <strong>t√©</strong> = pass√©<br>
                        Ex: "Man t√© al√©" = J'allais / Je suis all√©<br><br>
                        <strong>kay/k√©</strong> = futur<br>
                        Ex: "Man kay al√©" = J'irai
                    </div>
                </div>
                <div class="lesson-section">
                    <h3>Le pluriel</h3>
                    <p>On utilise "s√©" avant le nom pour marquer le pluriel :</p>
                    <div class="example-box">
                        <strong>timoun</strong> = enfant<br>
                        <strong>s√© timoun</strong> = les enfants
                    </div>
                </div>
                <div class="lesson-section">
                    <h3>Les adjectifs</h3>
                    <p>Les adjectifs se placent APR√àS le nom (sauf ti, vy√©, gran) :</p>
                    <div class="example-box">
                        <strong>an kay b√®l</strong> = une belle maison<br>
                        Mais : <strong>an ti-moun</strong> = un enfant
                    </div>
                </div>
            </div>

            <!-- QUIZ -->
            <div id="quiz" class="tab-content">
                <h2 class="section-title">Quiz - 8 questions al√©atoires</h2>
                <div id="quiz-container"></div>
            </div>

            <!-- DEVINETTES -->
            <div id="riddles" class="tab-content">
                <h2 class="section-title">Devinettes cr√©oles</h2>
                <p style="margin-bottom: 2rem; color: #6b7280;">Devinez le sens des expressions cr√©oles imag√©es !</p>
                <div id="riddles-container"></div>
            </div>

            <!-- EXERCICES -->
            <div id="exercises" class="tab-content">
                <h2 class="section-title">Exercices interactifs</h2>
                <div id="exercises-container"></div>
            </div>

            <!-- RESSOURCES -->
            <div id="references" class="tab-content">
                <h2 class="section-title">Ressources et R√©f√©rences</h2>
                <div class="reference-card">
                    <h4>Cours universitaire complet</h4>
                    <p>
                        <a href="http://creoles.free.fr/" target="_blank" rel="noopener noreferrer">
                            Introduction √† la langue et √† la culture cr√©oles des Petites Antilles
                        </a>
                    </p>
                    <p style="font-size: 0.875rem; color: #6b7280; margin-top: 0.5rem;">
                        Par Marie-Christine Haza√´l-Massieux. Cours complet avec grammaire, textes, culture.
                    </p>
                </div>
                <div class="reference-card">
                    <h4>√Ä propos</h4>
                    <p style="color: #4b5563;">
                        Application d'initiation au cr√©ole antillais utilisant l'IA Claude pour la traduction.
                    </p>
                    <p style="font-size: 0.875rem; color: #6b7280; margin-top: 0.5rem; font-style: italic;">
                        Cr√©√© par Ti Racoon - Pour une France Inclusive
                    </p>
                </div>
            </div>
        </div>

        <div class="footer">
            <p><strong>Par Ti Racoon</strong> - Pour une France Inclusive<br>
            Application accessible √† tous avec la toolbar Faites Mieux</p>
        </div>
    </div>

    <script>
        // DONN√âES
        const allQuestions = [
            {q: 'Comment dit-on "Bonjour" ?', o: ['Bonswa', 'Bonjou', 'Salut', 'Orevwa'], c: 1},
            {q: 'Que signifie "Sa ou f√®" ?', o: ['O√π vas-tu', 'Comment √ßa va', 'Qui es-tu', 'Que fais-tu'], c: 1},
            {q: 'Particule du pr√©sent ?', o: ['t√©', 'kay', 'ka', 'pa'], c: 2},
            {q: 'Comment dit-on "Merci beaucoup" ?', o: ['M√®si', 'M√®si anlo', 'Soupl√©', 'Pa ni pwobl√®m'], c: 1},
            {q: 'Que signifie "Man ka ch√®ch√©" ?', o: ['Je cherche', 'Je mange', 'Je dors', 'Je parle'], c: 0},
            {q: 'Particule du pass√© ?', o: ['ka', 't√©', 'kay', 'pa'], c: 1},
            {q: 'Comment dit-on "les enfants" ?', o: ['timoun', 'timoun-la', 's√© timoun', 'timoun-yo'], c: 2},
            {q: 'Que signifie "I bon" ?', o: ['Il est grand', 'C\'est bon', 'Il vient', 'C\'est cher'], c: 1},
            {q: 'Comment dit-on "Au revoir" ?', o: ['Bonjou', 'M√®si', 'Orevwa', 'Soupl√©'], c: 2},
            {q: 'Que signifie "Mwen fen" ?', o: ['J\'ai faim', 'J\'ai soif', 'Je pars', 'Je viens'], c: 0},
            {q: 'Particule du futur ?', o: ['ka', 't√©', 'kay', 'pa'], c: 2},
            {q: 'Comment dit-on "Oui" ?', o: ['Wi', 'Non', 'Pa', 'Wa'], c: 0},
            {q: 'Que signifie "Kot√© ou ka al√©" ?', o: ['Qui es-tu', 'O√π vas-tu', 'Comment vas-tu', 'Que fais-tu'], c: 1},
            {q: 'Comment dit-on "S\'il te pla√Æt" ?', o: ['M√®si', 'Soupl√©', 'Padon', 'Orevwa'], c: 1},
            {q: 'Que signifie "Konben sa kout√©" ?', o: ['Qui est-ce', 'O√π est-ce', 'C\'est combien', 'Comment'], c: 2},
            {q: 'Le pluriel se marque avec :', o: ['yo', 'la', 's√©', 'ka'], c: 2},
            {q: 'Comment dit-on "Je t\'aime" ?', o: ['Mwen enmen\'w', 'Mwen fen', 'Mwen bien', 'Mwen ka al√©'], c: 0},
            {q: 'O√π se place l\'adjectif ?', o: ['Avant le nom', 'Apr√®s le nom', 'Les deux', 'Aucun'], c: 1},
            {q: 'Que signifie "An nou al√©" ?', o: ['Allons-y', 'Au revoir', 'Bonjour', 'Merci'], c: 0},
            {q: 'Comment dit-on "Excuse-moi" ?', o: ['M√®si', 'Padon', 'Eskiz√© mwen', 'Soupl√©'], c: 2},
            {q: 'Que signifie "Mwen swef" ?', o: ['J\'ai faim', 'J\'ai soif', 'Je suis fatigu√©', 'Je pars'], c: 1},
            {q: 'Comment dit-on "Maison" ?', o: ['Kay', 'Fanm', 'Nonm', 'Timoun'], c: 0},
            {q: 'Que signifie "Fanm" ?', o: ['Homme', 'Femme', 'Enfant', 'Maison'], c: 1},
            {q: 'Comment dit-on "Homme" ?', o: ['Fanm', 'Nonm', 'Timoun', 'Kay'], c: 1},
            {q: 'Que signifie "Ba mwen" ?', o: ['Donne-moi', 'Prends', 'Va', 'Viens'], c: 0},
            {q: 'Comment dit-on "Eau" ?', o: ['Dlo', 'Pen', 'Diri', 'Manj√©'], c: 0},
            {q: 'Que signifie "Manj√©" ?', o: ['Boire', 'Manger', 'Dormir', 'Parler'], c: 1},
            {q: 'Comment dit-on "Pain" ?', o: ['Dlo', 'Pen', 'Diri', 'Vyann'], c: 1},
            {q: 'Que signifie "Diri" ?', o: ['Riz', 'Pain', 'Eau', 'Viande'], c: 0},
            {q: 'Comment dit-on "Grand" ?', o: ['Ti', 'Gwo', 'B√®l', 'Vy√©'], c: 1},
            {q: 'Que signifie "Ti" ?', o: ['Grand', 'Petit', 'Beau', 'Vieux'], c: 1},
            {q: 'Comment dit-on "Beau" ?', o: ['B√®l', 'L√®d', 'Gwo', 'Ti'], c: 0},
            {q: 'Que signifie "Vy√©" ?', o: ['Jeune', 'Vieux', 'Nouveau', 'Ancien'], c: 1},
            {q: 'Comment dit-on "Nouveau" ?', o: ['Vy√©', 'N√®f', 'Jenn', 'Gran'], c: 1},
            {q: 'Que signifie "Jenn" ?', o: ['Vieux', 'Jeune', 'Grand', 'Petit'], c: 1},
            {q: 'Comment dit-on "Nuit" ?', o: ['Jou', 'Nwit', 'Maten', 'Asw√®'], c: 1},
            {q: 'Que signifie "Jou" ?', o: ['Nuit', 'Jour', 'Matin', 'Soir'], c: 1},
            {q: 'Comment dit-on "Matin" ?', o: ['Nwit', 'Asw√®', 'Maten', 'Midi'], c: 2},
            {q: 'Que signifie "Asw√®" ?', o: ['Matin', 'Midi', 'Soir', 'Nuit'], c: 2},
            {q: 'Comment dit-on "Aujourd\'hui" ?', o: ['Y√®', 'J√≤di', 'D√®men', 'Lontan'], c: 1},
            {q: 'Que signifie "D√®men" ?', o: ['Hier', 'Aujourd\'hui', 'Demain', 'Maintenant'], c: 2},
            {q: 'Comment dit-on "Hier" ?', o: ['J√≤di', 'D√®men', 'Y√®', 'Lontan'], c: 2},
            {q: 'Que signifie "Lontan" ?', o: ['Bient√¥t', 'Longtemps', 'Maintenant', 'Jamais'], c: 1},
            {q: 'Comment dit-on "Maintenant" ?', o: ['Lontan', 'Kounny√©-a', 'Apr√©zan', 'D√®men'], c: 1},
            {q: 'Que signifie "Vini" ?', o: ['Aller', 'Venir', 'Partir', 'Rester'], c: 1},
            {q: 'Comment dit-on "Aller" ?', o: ['Vini', 'Al√©', 'R√©t√©', 'Pati'], c: 1},
            {q: 'Que signifie "R√©t√©" ?', o: ['Partir', 'Venir', 'Rester', 'Aller'], c: 2},
            {q: 'Comment dit-on "Partir" ?', o: ['Vini', 'Al√©', 'R√©t√©', 'Pati'], c: 3},
            {q: 'Que signifie "Pal√©" ?', o: ['√âcouter', 'Parler', 'Voir', 'Entendre'], c: 1},
            {q: 'Comment dit-on "√âcouter" ?', o: ['Pal√©', 'Tann', 'W√®', 'Konprann'], c: 1},
            {q: 'Que signifie "W√®" ?', o: ['Entendre', 'Voir', 'Parler', 'Comprendre'], c: 1},
            {q: 'Comment dit-on "Comprendre" ?', o: ['Pal√©', 'Tann', 'W√®', 'Konprann'], c: 3},
            {q: 'Que signifie "Sav" ?', o: ['Savoir', 'Pouvoir', 'Vouloir', 'Devoir'], c: 0},
            {q: 'Comment dit-on "Pouvoir" ?', o: ['Sav', 'P√©', 'L√©', 'Dw√®t'], c: 1},
            {q: 'Que signifie "L√©" ?', o: ['Savoir', 'Pouvoir', 'Vouloir', 'Devoir'], c: 2},
            {q: 'Comment dit-on "Devoir" ?', o: ['Sav', 'P√©', 'L√©', 'Dw√®t'], c: 3},
            {q: 'Que signifie "Bw√®" ?', o: ['Manger', 'Boire', 'Dormir', 'Chanter'], c: 1},
            {q: 'Comment dit-on "Dormir" ?', o: ['Bw√®', 'D√≤mi', 'Manj√©', 'Chant√©'], c: 1},
            {q: 'Que signifie "Chant√©" ?', o: ['Danser', 'Chanter', 'Jouer', 'Rire'], c: 1},
            {q: 'Comment dit-on "Danser" ?', o: ['Chant√©', 'Dans√©', 'Jw√©', 'Ri'], c: 1},
            {q: 'Que signifie "Jw√©" ?', o: ['Travailler', 'Jouer', '√âtudier', 'Dormir'], c: 1},
            {q: 'Comment dit-on "Travailler" ?', o: ['Jw√©', 'Travay', '√âtidy√©', 'D√≤mi'], c: 1},
            {q: 'Que signifie "Kouri" ?', o: ['Marcher', 'Courir', 'Sauter', 'Voler'], c: 1},
            {q: 'Comment dit-on "Marcher" ?', o: ['Kouri', 'Mach√©', 'Sot√©', 'Vol√©'], c: 1},
            {q: 'Que signifie "Gad√©" ?', o: ['Regarder', '√âcouter', 'Toucher', 'Sentir'], c: 0},
            {q: 'Comment dit-on "Chercher" ?', o: ['Gad√©', 'Ch√®ch√©', 'Jwenn', 'Pwan'], c: 1},
            {q: 'Que signifie "Jwenn" ?', o: ['Chercher', 'Trouver', 'Perdre', 'Donner'], c: 1},
            {q: 'Comment dit-on "Prendre" ?', o: ['Donn√©', 'Pwan', 'Jwenn', 'Ch√®ch√©'], c: 1},
            {q: 'Que signifie "Bay" ?', o: ['Prendre', 'Donner', 'Garder', 'Perdre'], c: 1},
            {q: 'Comment dit-on "Garder" ?', o: ['Bay', 'Pwan', 'Gad√©', 'Kit√©'], c: 2},
            {q: 'Que signifie "Kit√©" ?', o: ['Garder', 'Prendre', 'Laisser', 'Donner'], c: 2},
            {q: 'Comment dit-on "Aimer" ?', o: ['Rayi', 'Enmen', 'Vw√®', 'Konnen'], c: 1},
            {q: 'Que signifie "Rayi" ?', o: ['Aimer', 'D√©tester', 'Vouloir', 'Savoir'], c: 1},
            {q: 'Comment dit-on "Chaud" ?', o: ['Fr√®t', 'Cho', 'Ty√®d', 'Glase'], c: 1},
            {q: 'Que signifie "Fr√®t" ?', o: ['Chaud', 'Froid', 'Ti√®de', 'Glac√©'], c: 1},
            {q: 'Comment dit-on "Rouge" ?', o: ['V√®', 'Ble', 'Rouj', 'J√≤n'], c: 2},
            {q: 'Que signifie "V√®" ?', o: ['Rouge', 'Bleu', 'Vert', 'Jaune'], c: 2},
            {q: 'Comment dit-on "Bleu" ?', o: ['V√®', 'Ble', 'Rouj', 'Blan'], c: 1},
            {q: 'Que signifie "Blan" ?', o: ['Noir', 'Blanc', 'Gris', 'Brun'], c: 1},
            {q: 'Comment dit-on "Noir" ?', o: ['Blan', 'Nw√®', 'Gri', 'Bren'], c: 1}
        ];

        const expressions = [
            { fr: 'Bonjour, comment vas-tu ?', cr: 'Bonjou, sa ou f√® ?' },
            { fr: '√áa va bien', cr: 'Sa ka mach√©' },
            { fr: 'Merci beaucoup', cr: 'M√®si anlo' },
            { fr: 'S\'il te pla√Æt', cr: 'Soupl√©' },
            { fr: 'Au revoir', cr: 'Orevwa' },
            { fr: 'Je t\'aime', cr: 'Mwen enmen\'w' },
            { fr: 'Excuse-moi', cr: 'Eskiz√© mwen' },
            { fr: 'O√π vas-tu ?', cr: 'Kot√© ou ka al√© ?' },
            { fr: 'Je cherche un restaurant', cr: 'Man ka ch√®ch√© an restoran' },
            { fr: 'C\'est combien ?', cr: 'Konben sa kout√© ?' },
            { fr: 'J\'ai faim', cr: 'Mwen fen' },
            { fr: 'J\'ai soif', cr: 'Mwen swef' },
            { fr: 'C\'est d√©licieux', cr: 'I bon anlo' },
            { fr: 'Allons-y !', cr: 'An nou al√©' },
            { fr: 'Bonne nuit', cr: 'Bon nwit' },
            { fr: '√Ä bient√¥t', cr: 'A ta l√®' }
        ];

        const riddles = [
            { expr: 'Chapo fey', hint: 'Expression pour dire qu\'il pleut fort', answer: 'Il pleut des cordes', explain: 'Litt√©ralement "chapeau de feuille" - car on se couvre la t√™te avec des feuilles quand il pleut fort !' },
            { expr: 'Lapli ka tomb√©, s√© pa lapli, s√© pis b√®f', hint: 'Quand il pleut vraiment tr√®s fort', answer: 'Il pleut des vaches', explain: 'Expression imag√©e pour dire qu\'il pleut √©norm√©ment - encore plus fort que "chapo fey" !' },
            { expr: 'P√≤t√© chap√≤ ba mwen', hint: 'Expression de respect', answer: 'Chapeau / Bravo', explain: 'Litt√©ralement "porter un chapeau pour moi" - signe de grand respect et admiration' },
            { expr: 'Bat briy√©', hint: '√ätre tr√®s intelligent', answer: 'Avoir l\'esprit vif', explain: 'Litt√©ralement "battre br√ªl√©" - avoir l\'esprit qui bat vite, √™tre tr√®s √©veill√©' },
            { expr: 'Chach√© krab', hint: 'Chercher des ennuis', answer: 'Chercher la bagarre', explain: 'Litt√©ralement "chercher des crabes" - aller chercher quelque chose de difficile et potentiellement dangereux' },
            { expr: 'Manj√© fwomaj', hint: '√ätre embarrass√©', answer: '√ätre g√™n√©', explain: 'Manger du fromage = sentiment de g√™ne, expression de malaise' },
            { expr: 'F√® do won', hint: 'Faire la t√™te', answer: 'Bouder', explain: 'Litt√©ralement "faire le dos rond" comme un chat f√¢ch√©' },
            { expr: 'K√≤ a k√≤', hint: 'Face √† face', answer: 'En t√™te-√†-t√™te', explain: 'Litt√©ralement "corps √† corps" - √™tre ensemble en priv√©' },
            { expr: 'Bay kou ba', hint: 'Donner un coup de main', answer: 'Aider', explain: 'Litt√©ralement "donner un coup bas" mais signifie aider, donner un coup de main' },
            { expr: 'Koup√© t√®t', hint: 'Prendre une d√©cision rapide', answer: 'Trancher', explain: 'Litt√©ralement "couper la t√™te" - prendre une d√©cision claire et rapide' }
        ];

        const exercises = [
            {
                type: 'fill',
                question: 'Compl√©tez avec la bonne particule : Man ___ manj√© pen (Je mange du pain)',
                options: ['ka', 't√©', 'kay'],
                correct: 0
            },
            {
                type: 'fill',
                question: 'Compl√©tez : Man ___ al√© (Je suis all√©)',
                options: ['ka', 't√©', 'kay'],
                correct: 1
            },
            {
                type: 'fill',
                question: 'Compl√©tez : Man ___ al√© d√®men (J\'irai demain)',
                options: ['ka', 't√©', 'kay'],
                correct: 2
            },
            {
                type: 'order',
                question: 'Remettez les mots dans l\'ordre : "Je cherche un restaurant"',
                words: ['Man', 'ka', 'ch√®ch√©', 'an', 'restoran'],
                correct: 'Man ka ch√®ch√© an restoran'
            },
            {
                type: 'order',
                question: 'Remettez les mots dans l\'ordre : "Les enfants jouent"',
                words: ['S√©', 'timoun', 'ka', 'jw√©'],
                correct: 'S√© timoun ka jw√©'
            },
            {
                type: 'fill',
                question: 'Comment dit-on "les enfants" ?',
                options: ['timoun', 's√© timoun', 'timoun-la'],
                correct: 1
            }
        ];
        // VARIABLES GLOBALES
        let direction = 'fr-cr';
        let currentQuizQuestions = [];
        let currentQuestion = 0;
        let quizScore = 0;
        let quizAnswered = false;
        let currentRiddle = 0;
        let riddleRevealed = false;
        let currentExercise = 0;
        let sentenceWords = [];

        // NAVIGATION ENTRE ONGLETS
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const tabName = btn.dataset.tab;
                document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
                document.getElementById(tabName).classList.add('active');
                
                if (tabName === 'quiz') initQuiz();
                if (tabName === 'riddles') renderRiddle();
                if (tabName === 'exercises') renderExercise();
            });
        });

        // TRADUCTEUR
        const inputText = document.getElementById('input-text');
        const outputText = document.getElementById('output-text');
        const translateBtn = document.getElementById('translate-btn');
        const switchBtn = document.getElementById('switch-btn');

        translateBtn.addEventListener('click', async () => {
            if (!inputText.value.trim()) {
                alert('Veuillez entrer du texte √† traduire');
                return;
            }
            
            translateBtn.disabled = true;
            translateBtn.textContent = 'Traduction en cours...';
            
            const systemPrompt = direction === 'fr-cr' 
                ? `Tu es un expert en cr√©ole antillais (Guadeloupe et Martinique). Traduis le texte suivant du fran√ßais vers le cr√©ole antillais. Utilise les r√®gles suivantes : "ka" pour le pr√©sent, "t√©" pour le pass√©, "kay" pour le futur. Le pluriel se marque avec "s√©". Les adjectifs se placent apr√®s le nom (sauf ti, vy√©, gran). R√©ponds UNIQUEMENT avec la traduction en cr√©ole, sans explication.`
                : `Tu es un expert en cr√©ole antillais (Guadeloupe et Martinique). Traduis le texte suivant du cr√©ole antillais vers le fran√ßais. R√©ponds UNIQUEMENT avec la traduction en fran√ßais, sans explication.`;

            try {
                const response = await fetch('https://api.anthropic.com/v1/messages', {
                    method: 'POST',
                    headers: { 
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        model: 'claude-sonnet-4-20250514',
                        max_tokens: 1000,
                        messages: [
                            { 
                                role: 'user', 
                                content: `${systemPrompt}\n\nTexte √† traduire : "${inputText.value}"` 
                            }
                        ]
                    })
                });
                
                const data = await response.json();
                const translation = data.content.filter(i => i.type === 'text').map(i => i.text).join('').trim();
                outputText.value = translation;
            } catch (error) {
                console.error('Erreur:', error);
                outputText.value = 'Erreur de traduction. Veuillez r√©essayer.';
            }
            
            translateBtn.disabled = false;
            translateBtn.textContent = 'Traduire';
        });

        switchBtn.addEventListener('click', () => {
            direction = direction === 'fr-cr' ? 'cr-fr' : 'fr-cr';
            const temp = inputText.value;
            inputText.value = outputText.value;
            outputText.value = temp;
            document.getElementById('input-label').textContent = direction === 'fr-cr' ? 'Fran√ßais' : 'Cr√©ole Antillais';
            document.getElementById('output-label').textContent = direction === 'fr-cr' ? 'Cr√©ole Antillais' : 'Fran√ßais';
        });

        // EXPRESSIONS COURANTES
        const grid = document.getElementById('expressions-grid');
        expressions.forEach(e => {
            const card = document.createElement('div');
            card.className = 'expression-card';
            card.innerHTML = `<div class="expression-fr">${e.fr}</div><div class="expression-cr">${e.cr}</div>`;
            card.onclick = () => {
                inputText.value = direction === 'fr-cr' ? e.fr : e.cr;
                outputText.value = direction === 'fr-cr' ? e.cr : e.fr;
            };
            grid.appendChild(card);
        });

        // QUIZ
        function initQuiz() {
            currentQuizQuestions = allQuestions.sort(() => Math.random() - 0.5).slice(0, 8);
            currentQuestion = 0;
            quizScore = 0;
            quizAnswered = false;
            renderQuiz();
        }

        function renderQuiz() {
            const container = document.getElementById('quiz-container');
            if (currentQuestion >= currentQuizQuestions.length) {
                const percentage = Math.round((quizScore / currentQuizQuestions.length) * 100);
                let message = '';
                if (percentage === 100) message = 'üéâ Parfait ! Tu ma√Ætrises le cr√©ole !';
                else if (percentage >= 75) message = 'üëè Tr√®s bien ! Continue comme √ßa !';
                else if (percentage >= 50) message = 'üëç Pas mal ! Encore un peu de pratique !';
                else message = 'üí™ Continue √† apprendre, tu vas y arriver !';
                
                container.innerHTML = `
                    <div style="text-align: center; padding: 2rem;">
                        <h3 style="font-size: 1.5rem; margin-bottom: 1rem;">Quiz termin√© !</h3>
                        <div class="score-display">Score : ${quizScore} / ${currentQuizQuestions.length}</div>
                        <p style="font-size: 1.25rem; margin: 1rem 0;">${message}</p>
                        <button class="btn btn-primary" onclick="initQuiz()">Nouveau Quiz</button>
                    </div>`;
                return;
            }

            const q = currentQuizQuestions[currentQuestion];
            container.innerHTML = `
                <div class="quiz-question">
                    <h3>Question ${currentQuestion + 1}/${currentQuizQuestions.length}</h3>
                    <p style="font-size: 1.125rem; margin-top: 1rem; font-weight: 600;">${q.q}</p>
                    <div class="quiz-options" id="quiz-options"></div>
                </div>
                <div style="text-align: center; margin-top: 1rem; color: #6b7280; font-size: 1.125rem;">Score actuel : ${quizScore}</div>
                <div class="btn-group ${quizAnswered ? '' : 'hidden'}" id="next-btn">
                    <button class="btn ${currentQuestion < currentQuizQuestions.length - 1 ? 'btn-primary' : 'btn-success'}" onclick="nextQuestion()">
                        ${currentQuestion < currentQuizQuestions.length - 1 ? 'Question suivante ‚ûú' : 'Voir le r√©sultat üéØ'}
                    </button>
                </div>`;

            document.getElementById('quiz-options').innerHTML = q.o.map((opt, i) => 
                `<button class="quiz-option" onclick="answerQuiz(${i}, ${q.c})">${opt}</button>`
            ).join('');
        }

        function answerQuiz(selected, correct) {
            if (quizAnswered) return;
            quizAnswered = true;
            const opts = document.querySelectorAll('.quiz-option');
            opts.forEach((o, i) => {
                o.classList.add('answered');
                if (i === correct) {
                    o.classList.add('correct');
                    o.innerHTML += ' ‚úì';
                }
                else if (i === selected) {
                    o.classList.add('incorrect');
                    o.innerHTML += ' ‚úó';
                }
            });
            if (selected === correct) quizScore++;
            document.getElementById('next-btn').classList.remove('hidden');
        }

        function nextQuestion() {
            currentQuestion++;
            quizAnswered = false;
            renderQuiz();
        }

        // DEVINETTES
        function renderRiddle() {
            const container = document.getElementById('riddles-container');
            if (currentRiddle >= riddles.length) {
                container.innerHTML = `
                    <div style="text-align: center; padding: 2rem;">
                        <h3 style="font-size: 1.5rem; margin-bottom: 1rem;">üéâ Toutes les devinettes termin√©es !</h3>
                        <p style="margin-bottom: 1.5rem; color: #6b7280;">Tu connais maintenant les expressions cr√©oles imag√©es !</p>
                        <button class="btn btn-primary" onclick="currentRiddle=0; riddleRevealed=false; renderRiddle()">Recommencer</button>
                    </div>`;
                return;
            }

            const r = riddles[currentRiddle];
            container.innerHTML = `
                <div class="riddle-card" style="max-width: 600px; margin: 0 auto; cursor: default; padding: 2rem;">
                    <div style="text-align: center; margin-bottom: 1rem;">
                        <span style="background: #eff6ff; color: #2563eb; padding: 0.5rem 1rem; border-radius: 2rem; font-weight: bold;">
                            Devinette ${currentRiddle + 1}/${riddles.length}
                        </span>
                    </div>
                    <h3 style="font-size: 1.75rem; color: #2563eb; margin-bottom: 1.5rem; text-align: center;">"${r.expr}"</h3>
                    <p style="color: #6b7280; margin-bottom: 1rem; font-size: 1.125rem;"><strong>üí° Indice :</strong> ${r.hint}</p>
                    <div id="riddle-answer" class="${riddleRevealed ? '' : 'hidden'}" style="background: #f0fdf4; padding: 1.5rem; border-radius: 0.75rem; margin-top: 1.5rem; border: 2px solid #22c55e;">
                        <p style="font-weight: bold; color: #22c55e; margin-bottom: 0.75rem; font-size: 1.25rem;">‚úì R√©ponse : ${r.answer}</p>
                        <p style="color: #4b5563; line-height: 1.6;">${r.explain}</p>
                    </div>
                </div>
                <div class="btn-group" style="margin-top: 2rem;">
                    <button class="btn ${riddleRevealed ? 'btn-secondary' : 'btn-warning'}" onclick="riddleRevealed=true; renderRiddle()" ${riddleRevealed ? 'disabled' : ''}>
                        ${riddleRevealed ? '‚úì R√©ponse affich√©e' : 'üëÅÔ∏è Voir la r√©ponse'}
                    </button>
                    ${riddleRevealed ? '<button class="btn btn-primary" onclick="currentRiddle++; riddleRevealed=false; renderRiddle()">Devinette suivante ‚ûú</button>' : ''}
                </div>`;
        }

        // EXERCICES
        function renderExercise() {
            const container = document.getElementById('exercises-container');
            if (currentExercise >= exercises.length) {
                container.innerHTML = `
                    <div style="text-align: center; padding: 2rem;">
                        <h3 style="font-size: 1.5rem; margin-bottom: 1rem;">üéâ Tous les exercices termin√©s !</h3>
                        <p style="margin-bottom: 1.5rem; color: #6b7280;">Bravo ! Tu progresses en cr√©ole !</p>
                        <button class="btn btn-primary" onclick="currentExercise=0; renderExercise()">Recommencer</button>
                    </div>`;
                return;
            }

            const ex = exercises[currentExercise];
            
            if (ex.type === 'fill') {
                container.innerHTML = `
                    <div style="text-align: center; margin-bottom: 1rem;">
                        <span style="background: #eff6ff; color: #2563eb; padding: 0.5rem 1rem; border-radius: 2rem; font-weight: bold;">
                            Exercice ${currentExercise + 1}/${exercises.length}
                        </span>
                    </div>
                    <div class="exercise-box">
                        <h3 style="margin-bottom: 1.5rem; font-size: 1.25rem;">${ex.question}</h3>
                        <div class="quiz-options" id="ex-options"></div>
                    </div>
                    <div class="btn-group hidden" id="ex-next">
                        <button class="btn btn-primary" onclick="currentExercise++; renderExercise()">Exercice suivant ‚ûú</button>
                    </div>`;
                
                document.getElementById('ex-options').innerHTML = ex.options.map((opt, i) => 
                    `<button class="quiz-option" onclick="checkExercise(${i}, ${ex.correct})">${opt}</button>`
                ).join('');
            } else if (ex.type === 'order') {
                sentenceWords = [];
                container.innerHTML = `
                    <div style="text-align: center; margin-bottom: 1rem;">
                        <span style="background: #eff6ff; color: #2563eb; padding: 0.5rem 1rem; border-radius: 2rem; font-weight: bold;">
                            Exercice ${currentExercise + 1}/${exercises.length}
                        </span>
                    </div>
                    <div class="exercise-box">
                        <h3 style="margin-bottom: 1rem; font-size: 1.25rem;">${ex.question}</h3>
                        <p style="color: #6b7280; margin-bottom: 1rem;">Cliquez sur les mots dans le bon ordre :</p>
                        <div class="sentence-builder" id="sentence-builder">
                            <span style="color: #9ca3af;">Cliquez sur les mots ci-dessous...</span>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 0.5rem; margin-top: 1rem;" id="word-buttons"></div>
                    </div>
                    <div class="btn-group">
                        <button class="btn btn-warning" onclick="checkSentence('${ex.correct}')">‚úì V√©rifier</button>
                        <button class="btn btn-secondary" onclick="resetSentence()">‚Üª R√©initialiser</button>
                    </div>
                    <div id="sentence-result"></div>`;
                
                document.getElementById('word-buttons').innerHTML = ex.words.map((w, i) => 
                    `<button class="word-button" onclick="addWord('${w}', ${i})">${w}</button>`
                ).join('');
            }
        }

        function checkExercise(selected, correct) {
            const opts = document.querySelectorAll('.quiz-option');
            opts.forEach((o, i) => {
                o.classList.add('answered');
                if (i === correct) {
                    o.classList.add('correct');
                    o.innerHTML += ' ‚úì';
                } else if (i === selected) {
                    o.classList.add('incorrect');
                    o.innerHTML += ' ‚úó';
                }
            });
            document.getElementById('ex-next').classList.remove('hidden');
        }

        function addWord(word, index) {
            const btns = document.querySelectorAll('.word-button');
            const btn = btns[index];
            if (btn.classList.contains('used')) return;
            btn.classList.add('used');
            sentenceWords.push(word);
            updateSentence();
        }

        function updateSentence() {
            const builder = document.getElementById('sentence-builder');
            if (sentenceWords.length === 0) {
                builder.innerHTML = '<span style="color: #9ca3af;">Cliquez sur les mots ci-dessous...</span>';
            } else {
                builder.innerHTML = sentenceWords.map((w, i) => 
                    `<span class="sentence-word" onclick="removeWord(${i})">${w}</span>`
                ).join('');
            }
        }

        function removeWord(index) {
            const word = sentenceWords[index];
            sentenceWords.splice(index, 1);
            updateSentence();
            const btns = document.querySelectorAll('.word-button');
            btns.forEach(btn => {
                if (btn.textContent === word && btn.classList.contains('used')) {
                    btn.classList.remove('used');
                }
            });
        }

        function resetSentence() {
            sentenceWords = [];
            document.querySelectorAll('.word-button').forEach(btn => btn.classList.remove('used'));
            updateSentence();
            document.getElementById('sentence-result').innerHTML = '';
        }

        function checkSentence(correct) {
            const answer = sentenceWords.join(' ');
            const result = document.getElementById('sentence-result');
            if (answer === correct) {
                result.innerHTML = `
                    <div style="background: #f0fdf4; color: #22c55e; padding: 1.5rem; border-radius: 0.75rem; margin-top: 1rem; font-weight: bold; text-align: center; border: 2px solid #22c55e;">
                        üéâ Bravo ! C'est correct !
                    </div>
                    <div class="btn-group" style="margin-top: 1rem;">
                        <button class="btn btn-primary" onclick="currentExercise++; renderExercise()">Exercice suivant ‚ûú</button>
                    </div>`;
            } else {
                result.innerHTML = `
                    <div style="background: #fef2f2; color: #ef4444; padding: 1.5rem; border-radius: 0.75rem; margin-top: 1rem; border: 2px solid #ef4444;">
                        <strong>‚ùå Pas tout √† fait...</strong><br>
                        <span style="color: #6b7280;">R√©ponse attendue :</span> <strong style="color: #2563eb;">${correct}</strong>
                    </div>`;
            }
        }

        // INITIALISATION
        window.onload = function() {
            initQuiz();
            console.log('Application cr√©ole charg√©e avec succ√®s ! üéâ');
        };
    </script>
</body>
</html>
